# Esquema del archivo .env para la aplicación API de NextRead

# Database configuration
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# JWT secret key
security.jwt.secret-key =${JWT_SECRET_KEY}
security.jwt.expiration-time=3600000
#
# Mail properties
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${SUPPORT_EMAIL}
spring.mail.password=${APP_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# OpenAI API configuration
openai.api.key=${OPENAI_API_KEY}
openai.api.url=${OPENAI_API_URL}

# Rate limiting configuration (development - unlimited)
app.rate-limit.enabled=${app.rate-limit.enabled:false}
app.rate-limit.recommendations-per-day=${app.rate-limit.recommendations-per-day:999}

# Keys must be stored in .env file

spring.config.import=optional:file:apps/api/.env[.properties]

# Server configuration
server.port=${PORT:8080}

# Configuración estática que solo permanece en el propierties y no en el .env

# Actuator endpoints - solo health público para Railway
management.endpoints.web.exposure.include=health
management.endpoint.health.show-details=never
management.endpoint.health.show-components=never
management.endpoints.web.base-path=/actuator
management.server.port=${server.port}

# Security para actuator (solo health público)
management.endpoints.enabled-by-default=false
management.endpoint.health.enabled=true

# Production settings
spring.jpa.show-sql=false
logging.level.org.hibernate.SQL=WARN 